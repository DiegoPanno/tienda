<!DOCTYPE html>
<html lang="es">
  <head>
    <meta
      name="description"
      content="Tienda Saludable ofrece una amplia variedad de productos naturales y veganos sin TACC para un estilo de vida saludable."
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tienda libre de gluten</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- Enlace al archivo CSS -->
    <!-- Agregar Bootstrap Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap JS (necesario para el Toast) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <header>
      <!-- Menú móvil con tres puntos -->
      <div class="menu-container">
        <i class="bi bi-three-dots-vertical" id="menuIcon"></i>
        <div class="dropdown-menu" id="dropdownMenu">
          <button onclick="filterProducts('Panificados/Galletitas')">
            Panificados/Galletitas
          </button>
          <button onclick="filterProducts('Harinas/Premezclas/Rebozadores')">
            Harinas/Premezclas/Rebozadores
          </button>
          <button onclick="filterProducts('Cereales/Legumbres/Semillas')">
            Cereales/Legumbres/Semillas
          </button>
          <button onclick="filterProducts('Congelados/Refrigerados')">
            Congelados/Refrigerados
          </button>
          <button onclick="filterProducts('Snack/Alfajores/Golosinas')">
            Snack/Alfajores/Golosinas
          </button>
          <button onclick="filterProducts('all')">Todas</button>
        </div>
      </div>
      <h1>Tienda libre de gluten</h1>
      <!-- Contenedor del carrito con el ícono y el contador -->
      <div
        id="cartIconContainer"
        style="position: relative; display: inline-block"
      >
        <i
          class="bi bi-basket3"
          style="font-size: 30px; color: white"
          id="cartIcon"
        ></i>
        <!-- Ícono de carrito blanco -->
        <span id="cartItemCount">0</span>
        <!-- Contador con fondo rojo y texto blanco -->
      </div>
    </header>

    <!-- Barra de categorías visible solo en pantallas grandes -->
    <div class="category-menu">
      <button onclick="filterProducts('Panificados/Galletitas')">
        Panificados/Galletitas
      </button>
      <button onclick="filterProducts('Harinas/Premezclas/Rebozadores')">
        Harinas/Premezclas/Rebozadores
      </button>
      <button onclick="filterProducts('Cereales/Legumbres/Semillas')">
        Cereales/Legumbres/Semillas
      </button>
      <button onclick="filterProducts('Congelados/Refrigerados')">
        Congelados/Refrigerados
      </button>
      <button onclick="filterProducts('Snack/Alfajores/Golosinas')">
        Snack/Alfajores/Golosinas
      </button>
      <button onclick="filterProducts('all')">Todas</button>
    </div>

    <!-- Contenedor de productos -->
    <div class="product-list" id="productList">
      <!-- Los productos se cargarán aquí dinámicamente -->
    </div>

    <!-- Carrito -->
    <div class="cartIconContainer">
      <div class="cart" id="cartSection">
        <h3>Carrito</h3>
        <ul id="cartItems">
          <!-- Los productos agregados aparecerán aquí -->
        </ul>
        <p>
          <strong>Total: $<span id="total">0</span></strong>
        </p>
        <button id="checkoutBtn" onclick="finalizarCompra()">
          ¡Hacer pedido a la tienda!
        </button>
      </div>
    </div>

    <!-- Contenedor del Toast -->
    <div
      id="toastContainer"
      class="toast-container position-fixed bottom-0 end-0 p-3"
    >
      <div
        id="liveToast"
        class="toast"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
      >
        <div class="d-flex">
          <div class="toast-body">✅ ¡Producto agregado al carrito!</div>
          <button
            type="button"
            class="btn-close me-2 m-auto"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
      </div>
    </div>

    <script type="module" src="firebase.js"></script>
    <script type="module" src="app.js"></script>
  </body>
</html>
